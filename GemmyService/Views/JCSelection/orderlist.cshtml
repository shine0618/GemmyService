
@{
    ViewBag.Title = "orderlist";
}

<style>
    #asas {
        height: 800px;
        min-width: 1230px;
    }

    #shjahs {
        border: 0;
        margin: 0;
        padding: 0;
        height: 642px;
        width: 871px;
    }

    #iDisplayBox {
        margin-top: 20px;
        position: relative;
    }

    #player {
        height: 36px;
        width: 871px;
        background-color: #fff;
        position: absolute;
        bottom: 0px;
    }
    .el-date-editor--daterange.el-input, .el-date-editor--daterange.el-input__inner, .el-date-editor--timerange.el-input, .el-date-editor--timerange.el-input__inner{
        width:500px;
        left:200px;
    }
</style>

<div id="orderlist">
    <div class="page-header" style="height:53px;">
        <div class="container" style="padding:10px 10px ">
            <a class="navigation_a" href="/JCSelection/main">{{NAVMainPage}}</a>/
            <a class="navigation_a">订单系统</a>
        </div>
    </div>
    <div class="container" style="margin-top:20px;margin-bottom:20px;">       
        <div class="col-lg-12">
            <div class="col-lg-8">
                <div>
                    <span>日期选择</span>
                    <el-date-picker v-model="value1"
                                    type="daterange"
                                    range-separator="至"
                                    start-placeholder="开始日期"
                                    value-format="yyyy-MM-dd"
                                    end-placeholder="结束日期">
                    </el-date-picker>
                </div>
                <div id="asas">
                    <div class="player" id="player">
                    </div>
                </div>
            </div>
            
            
        </div>
    </div>
</div>

<script>
    var orderlist = new Vue({
        el: "#orderlist",
        data: {
            NAVMainPage: '',
            CustomPage: '',
            partType: '',
            Nature: '',
            Mode: '',
            UserEmail:'',
            value1: '',
            UserCompanyName: '',
            dateStart: '',
            dateEnd:'',
        },
        watch: {
            value1() {
                console.log(this.value1);
                if (this.value1.length >= 2) {
                    this.dateStart = this.value1[0];
                    this.dateEnd = this.value1[1];
                }
                console.log(this.dateStart);
                console.log(this.dateEnd);
            }
        },
        methods: {
            initPage: function (event) {
                var code = GetLanguCode();
                this.langCode = code;
                $.ajaxSettings.async = false;
                //var level = GetLoginLevel();
                //if (level < 1) {
                //    window.location.href = "/JCSelection/main";
                //}
                this.UserEmail = GetLoginUsername();
                if (this.UserEmail == null || this.UserEmail == '') {
                    window.location.href = "/JCSelection/main";
                }
                this.UserCompanyName = GetLoginCompanyName();
                if (this.UserCompanyName == '') {
                    window.location.href = "/JCSelection/main";
                }               
                //var url = "http://61.175.247.114:7081/JC_SD/Index?I_STATE=%E5%85%A8%E9%83%A8&I_STATE_prdo=%E5%85%A8%E9%83%A8&type=overview&I_JHJQ_S=2021-09-09&I_JHJQ_E=2021-09-09&I_XSJQ_S=&I_XSJQ_E=&S_ZYD=1200&I_VBELN=&S_ZKHMC=" + this.UserCompanyName + "&S_ZYWY=&S_ZSYB=&S_ZQY=";
                //$("#shjahs").attr({
                //    "src": url
                //});
                //console.log(url);
                var languText;
                $.getJSON("/resourse/Language/text-" + code + ".json", function (result) {
                    languText = result.language;
                });
                $.ajaxSettings.async = true;
                var obj = languText;
                for (var p in obj) {
                    // 方法
                    if (typeof (obj[p]) == "function") {
                        obj[p]();
                    } else {
                        // p 为属性名称，obj[p]为对应属性的值
                        var key = p;
                        var value = obj[p];
                        // console.log('key:' + key + "  value:" + value);
                        this.setData(key, value);
                    }
                }                
                var i = '<iframe scrolling="yes"  id="shjahs"  alt=""  src = ""/>';
                $('#asas').append(i);                
            },
            setData: function (field, val) {
                this.$set(this.$data, field, val);//vue 设定值
            },           
        },
    })
    orderlist.initPage();
</script>